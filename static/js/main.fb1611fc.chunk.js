(this["webpackJsonpmade-in-usa"]=this["webpackJsonpmade-in-usa"]||[]).push([[0],{137:function(e,t,a){e.exports=a(210)},143:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(23),l=a.n(c),i=a(29),s=a(19),u=a(20),m=a(24),d=a(22),h=a(21),p=(a(142),a(143),a(14)),f=a(94),b=a(27),g=a.n(b),E=a(34),v=a(51),y=(v.b.hasAppClient("miusa-gxhmx")?v.b.getAppClient("miusa-gxhmx"):v.b.initializeDefaultAppClient("miusa-gxhmx")).getServiceClient(v.a.factory,"mongodb-atlas"),C=new v.c(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STITCH_API_KEY),S=!1,k=null,w=function(){return new Promise((function(e,t){S?e(k):v.b.defaultAppClient.auth.loginWithCredential(C).then((function(t){S=!0,k=y.db("vendor").collection("vendor-item"),e(k)})).catch((function(e){return t(e)}))}))},O=y.db("vendor").collection("vendor-item"),j=a(101),x=a(102),A=a(99),D=a(100),N=a(103),T=(a(97),a(116)),U=a.n(T),_=(a(151),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={dataMaps:[]},n}return Object(u.a)(a,[{key:"getData",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.find({isVerified:!0}).toArray().then((function(e){return t.setState({dataMaps:e})})).catch((function(e){console.warn("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=window.innerWidth<480?3:4.25;return o.a.createElement("div",null,o.a.createElement(j.a,{style:{height:"480px",width:"100%",opacity:"0.9"},zoom:e,maxZoom:20,center:[37.7687477,-99.6820275],attributionControl:!1},o.a.createElement(x.a,{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"Map \xa9 <a href='https://www.openstreetmap.org/copyright' target='_blank'>OpenStreetMap</a> contributors"}),o.a.createElement(A.a,{position:"bottomright",prefix:!1}),o.a.createElement(U.a,{spiderfyDistanceMultiplier:1,showCoverageOnHover:!1,maxClusterRadius:35},this.state.dataMaps.map((function(e,t){var a=e.coordinates,n=e.company,r=e.url,c=e.loc;return o.a.createElement(D.a,{onClick:function(){window.open(r)},key:t,center:[a[0],a[1]],position:[a[0],a[1]]},o.a.createElement(N.a,{direction:"right",offset:[-8,-2],opacity:1},o.a.createElement("span",null,o.a.createElement("a",{href:r},n)),o.a.createElement("span",null,c)))})))))}}]),a}(r.Component)),L=function(){return o.a.createElement(_,null)},F=a(130),I=a(17),M=a(33),V=a(119),P=a(117),R=a(132),B=new(a(118).OpenStreetMapProvider),G=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).checkboxOnChange=function(e){var t=e.target.name;n.setState((function(e){var a=e.checkboxIds;return a.includes(t)?{checkboxIds:a.filter((function(e){return e!==t}))}:{checkboxIds:[].concat(Object(F.a)(a),[t]).sort()}}))},n.animateSubmit=function(){n.setState({animateSubmit:!0})},n.handleRecaptureComplete=function(e){n.setState({isCaptchaVerified:!0})},n.onChangeCompanyName=n.onChangeCompanyName.bind(Object(m.a)(n)),n.onChangeUrl=n.onChangeUrl.bind(Object(m.a)(n)),n.onChangeLoc=n.onChangeLoc.bind(Object(m.a)(n)),n.onChangeGender=n.onChangeGender.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.onDelete=n.onDelete.bind(Object(m.a)(n)),n.onChangeisVerified=n.onChangeisVerified.bind(Object(m.a)(n)),n.registerRecaptcha=o.a.createRef(),n.state={checkboxes:[{id:"Accessories"},{id:"Bottoms"},{id:"Dresses"},{id:"Formal"},{id:"Shoes"},{id:"Sports"},{id:"Swim"},{id:"Tops"},{id:"Undergarments"}],checkboxIds:[],company:"",url:"",loc:"",gender:"",isCaptchaVerified:!1,isVerified:!1,animateSubmit:!1},n}return Object(u.a)(a,[{key:"onChangeCompanyName",value:function(e){this.setState({company:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeLoc",value:function(e){this.setState({loc:e.target.value})}},{key:"onChangeGender",value:function(e){this.setState({gender:e.target.value})}},{key:"onChangeisVerified",value:function(e){this.setState({isVerified:e.target.checked})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),Object(E.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.search({query:t.state.loc});case 2:(a=e.sent)&&a.length>0&&(n=[a[0].y,a[0].x],r={company:t.state.company,url:t.state.url,loc:t.state.loc,coordinates:n,gender:t.state.gender,tags:t.state.checkboxIds,isVerified:t.state.isVerified}),O.insertOne(r).then((function(e){return console.log("Successfully inserted item with _id: ".concat(e.insertedId))})).catch((function(e){return console.error("Failed to insert item: ".concat(e))})),t.setState({id:"",company:"",url:"",loc:"",gender:"",checkboxIds:[],isCaptchaVerified:!1,isVerified:!1,animateSubmit:!1}),document.getElementById("genderSelect").selectedIndex="0";case 7:case"end":return e.stop()}}),e)})))()}},{key:"onDelete",value:function(e){console.log(this.props.selected);var t={_id:new P.a(this.props.selected)};O.deleteOne(t).then((function(e){return console.log("Deleted ".concat(e.deletedCount," item(s)."))})).catch((function(e){return console.error("Delete failed with error: ".concat(e))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.checkboxes,n=t.checkboxIds,r=this.state.animateSubmit,c=function(){e.registerRecaptcha.reset(),setTimeout((function(){e.setState({isCaptchaVerified:!1,animateSubmit:!1})}),2e3)};return o.a.createElement("div",{className:"mainContainer"},o.a.createElement("h4",null,"Add New Company"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(I.a.Group,null,o.a.createElement(I.a.Label,null,"Company Name:"),o.a.createElement(I.a.Control,{type:"text",size:"sm",value:this.state.company,onChange:this.onChangeCompanyName,placeholder:"Example Corp",required:!0})),o.a.createElement(I.a.Group,null,o.a.createElement(I.a.Label,null,"URL:"),o.a.createElement(I.a.Control,{type:"text",size:"sm",value:this.state.url,onChange:this.onChangeUrl,placeholder:"https://www.example.com",required:!0})),o.a.createElement(I.a.Group,null,o.a.createElement(I.a.Label,null,"Location:"),o.a.createElement(I.a.Control,{type:"text",size:"sm",value:this.state.loc,onChange:this.onChangeLoc,placeholder:"City, State",required:!0})),o.a.createElement(I.a.Group,null,o.a.createElement(I.a.Label,null,"Gender:"),o.a.createElement("select",{required:!0,id:"genderSelect",className:"form-control dropdown-toggle btn btn-secondary",onChange:this.onChangeGender,multiple:!1},o.a.createElement("option",{value:""},"Select One"),o.a.createElement("option",{value:"Everyone"},"Everyone"),o.a.createElement("option",{value:"Men"},"Men"),o.a.createElement("option",{value:"Women"},"Women"))),o.a.createElement(I.a.Group,null,o.a.createElement(I.a.Label,null,"Category/Tags:"),o.a.createElement("div",{className:"mb-3"},a.map((function(t){return o.a.createElement(I.a.Check,{inline:!0,key:t.id,label:t.id,id:t.id,type:"checkbox",checked:n.includes(t.id),name:t.id,onChange:e.checkboxOnChange})})))),o.a.createElement(I.a.Check,{type:"hidden",disabled:!0}),o.a.createElement(R.a,{id:"ReCAPTCHA",sitekey:"6LdaT90UAAAAAPhUh2D2odXQQB47ilnXw2mhCwAj",onChange:this.handleRecaptureComplete,ref:function(t){e.registerRecaptcha=t}}),o.a.createElement(I.a.Group,null,o.a.createElement(M.a,{id:"addFormSubmit",type:"submit",value:"Submit",disabled:!this.state.isCaptchaVerified,onClick:function(){e.animateSubmit(),c()}},r&&o.a.createElement(V.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true",style:{marginRight:"4px"}}),r&&o.a.createElement("span",null,"Submitting"),!r&&o.a.createElement("span",null,"Submit")),o.a.createElement(M.a,{className:"btn",variant:"danger",type:"reset",onClick:function(){c()}},"Reset"))))}}]),a}(r.Component),z=a(59),W=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClickAlert=n.onClickAlert.bind(Object(m.a)(n)),n.state={setShowAlert:!0},n}return Object(u.a)(a,[{key:"onClickAlert",value:function(e){this.setState({setShowAlert:!1})}},{key:"render",value:function(){return o.a.createElement("div",{className:"mainContainer"},o.a.createElement(z.a,{show:this.state.setShowAlert,variant:"success",onClick:this.onClickAlert,dismissible:!0},o.a.createElement(z.a.Heading,null,"Missing a Vendor?"),o.a.createElement("p",null,'Please feel free to contribute to the list by adding a "Made in USA" company. Your submission(s) will be put into a queue and approved by a moderator shortly. Thanks!')))}}]),a}(r.Component),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={selected:[]},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(W,null),o.a.createElement(G,{selected:this.props.selected}))}}]),a}(r.Component),q=a(46),K=a(81),Y=a(65),J=function(){return o.a.createElement("div",{className:"mainContainer"},o.a.createElement(z.a,{variant:"primary"},o.a.createElement(z.a.Heading,null,"About the List"),o.a.createElement("p",null,'Over a decade ago, I took a challenge to slowly convert my wardrobe to entirely "Made in USA" clothing. The goals were numerous \u2014 from having fewer items of higher-quality clothing that would last longer, to voting with my wallet in support of fair wages, supply chain transparency, and against adverse working conditions abroad. Unfortunately, not all companies listed have their entire product portfolio American-made \u2014 the only requirement is that some product(s) should be manufactured in the USA, regardless of domestic or foreign materials. Please feel free to ',o.a.createElement(i.c,{to:"".concat("","/add")},"add")," to the list!"),o.a.createElement("hr",null),o.a.createElement("p",{className:"mb-0"},"This is a personal coding project built as a Single Page Application (SPA) using ",o.a.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(q.a,{icon:K.c})," React"),", ",o.a.createElement("a",{href:"https://react-bootstrap.github.io/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(q.a,{icon:K.a})," Bootstrap"),", and  ",o.a.createElement("a",{href:"https://react-leaflet.js.org/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(q.a,{icon:Y.c})," Leaflet")," with a ",o.a.createElement("a",{href:"https://www.mongodb.com/cloud/atlas",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(q.a,{icon:Y.b})," Cloud MongoDB service"),". Open source and proudly hosted on ",o.a.createElement("a",{href:"https://github.com/hdehal/made-in-usa",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(q.a,{icon:K.b})," GitHub"),".")))},Q=function(){return o.a.createElement("div",{className:"mainContainer"},o.a.createElement("p",null,"404 Error: Page does not exist"))},X=a(217),Z=a(216),$=a(75),ee=a(121),te=a.n(ee),ae=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={totalItems:"",lastUpdate:""},n}return Object(u.a)(a,[{key:"getData",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.count({isVerified:!0}).then((function(e){return t.setState({totalItems:e})})).catch((function(e){console.warn("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDate",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.findOne({},{sort:{_id:-1}}).then((function(e){return e._id.getTimestamp().toLocaleDateString("en-US")})).then((function(e){return t.setState({lastUpdate:e})})).catch((function(e){console.warn("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData(),this.getDate()}},{key:"render",value:function(){return o.a.createElement(i.b,{to:"/"},o.a.createElement(M.a,{id:"lastUpdate",size:"sm",variant:"link"},"Last Updated: ",this.state.lastUpdate),o.a.createElement(M.a,{size:"sm",variant:"success"},o.a.createElement($.a,{variant:"light"},o.a.createElement(te.a,{start:0,end:this.state.totalItems,delay:1},(function(e){var t=e.countUpRef;return o.a.createElement("div",null,o.a.createElement("span",{ref:t}))})))," Companies"))}}]),a}(r.Component),ne=a(122),re=Object(r.memo)((function(e){var t=e.emoji;return o.a.createElement("span",{dangerouslySetInnerHTML:{__html:ne.a.parse(t,{folder:"svg",ext:".svg"})}})})),oe=function(){return o.a.createElement(X.a,{bg:"light",expand:"lg"},o.a.createElement(i.b,{to:"/"},o.a.createElement(X.a.Brand,null,o.a.createElement(re,{emoji:"\ud83c\uddfa\ud83c\uddf8"})," Made in USA List")),o.a.createElement(X.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(X.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(Z.a,{className:"mr-auto"},o.a.createElement(i.c,{to:"/add"},"Add Apparel Company"))),o.a.createElement(X.a.Collapse,{className:"justify-content-end"},o.a.createElement(ae,null),o.a.createElement(i.c,{to:"/about"},o.a.createElement(M.a,{size:"sm",variant:"secondary"},"About"))))},ce=a(95),le=a(125),ie=a.n(le),se=a(77),ue=a.n(se),me=a(131),de=a(129),he=function(e,t){return e?"asc"===e?o.a.createElement("span",{className:"react-bootstrap-table-sort-order"},o.a.createElement("span",{className:"caret"})):"desc"===e?o.a.createElement("span",{className:"react-bootstrap-table-sort-order dropup"},o.a.createElement("span",{className:"caret"})):null:o.a.createElement("span",{className:"order"},o.a.createElement("span",{className:"dropdown"},o.a.createElement("span",{className:"caret"})),o.a.createElement("span",{className:"dropup"},o.a.createElement("span",{className:"caret"})))},pe=[{dataField:"id",text:"ID",hidden:!0},{dataField:"company",text:"Company",sort:!0,sortCaret:he,headerStyle:function(e,t){return{minWidth:"175px"}}},{dataField:"url",text:"URL",sort:!0,sortCaret:he,formatter:function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))}},{dataField:"loc",text:"Location",sort:!0,sortCaret:he,headerStyle:function(e,t){return{minWidth:"175px"}}},{dataField:"gender",text:"Gender",sort:!0,sortCaret:he,headerStyle:function(e,t){return{minWidth:"120px"}}},{dataField:"tags",text:o.a.createElement("span",{className:"tagsLabel"},"Tags"),sort:!0,sortCaret:he,formatter:function(e){return e.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{key:"top",placement:"top",overlay:o.a.createElement(de.a,null,"Accessories"===e?"Bags, belts, sunglasses, etc.":"Bottoms"===e?"Pants, shorts, skirts, etc.":"Dresses"===e?o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{emoji:"\ud83d\udc57"})):"Formal"===e?"Blazers, suits, etc.":"Shoes"===e?o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{emoji:"\ud83d\udc5f"})):"Sports"===e?o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{emoji:"\ud83c\udfc3\u200d\u2640\ufe0f"})):"Swim"===e?"Bikinis, trunks, etc.":"Tops"===e?"Shirts, OCBD, etc.":"Undergarments"===e?"Socks, underwear, etc.":null)},o.a.createElement($.a,{pill:!0,variant:"primary"},e)))}))},filter:Object(se.textFilter)({className:"form-control-sm",placeholder:"Search by tag",getFilter:function(e){n=e}})}];document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&n("")};var fe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(u.a)(a,[{key:"getData",value:function(){var e=Object(E.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.find({isVerified:!0}).toArray().then((function(e){return e.map((function(e){return Object(ce.a)(Object(ce.a)({},e),{},{id:e._id.toString()})}))})).then((function(e){return t.setState({data:e})})).catch((function(e){console.warn("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ie.a,{keyField:"id",data:this.state.data,columns:pe,filter:ue()(),defaultSorted:[{dataField:"company",order:"asc"}],striped:!0,hover:!0,condensed:!0,bootstrap4:!0}))}}]),a}(r.Component),be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).scrollFunc=n.scrollFunc.bind(Object(m.a)(n)),n.state={showScrollTop:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.scrollFunc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollFunc)}},{key:"scrollFunc",value:function(e){window.scrollY>=100?this.setState({showScrollTop:!0}):this.setState({showScrollTop:!1})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(M.a,{className:!0===this.state.showScrollTop?"scrollTop fadeIn":"scrollTop",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},style:{visibility:!0===this.state.showScrollTop?"visible":"hidden"},variant:"success"},o.a.createElement(q.a,{icon:Y.a})))}}]),a}(o.a.Component);f.a.initialize("UA-159568942-1"),f.a.pageview(window.location.pathname+window.location.search);var ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={selected:[]},n.handleOnSelect=n.handleOnSelect.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleOnSelect",value:function(e,t){t?(console.log(e),this.setState({selected:e.id})):(console.log(e),this.setState({selected:[]}))}},{key:"render",value:function(){var e=this;return o.a.createElement(i.a,{basename:"/st"},o.a.createElement(oe,null),o.a.createElement(p.c,null,o.a.createElement(p.a,{path:"/",component:L,exact:!0}),o.a.createElement(p.a,{path:"/add",component:function(){return o.a.createElement(H,{selected:e.state.selected})}}),o.a.createElement(p.a,{path:"/about",component:J}),o.a.createElement(p.a,{component:Q})),o.a.createElement(fe,{handleOnSelectProp:this.handleOnSelect}),o.a.createElement(be,null))}}]),a}(r.Component);l.a.render(o.a.createElement(i.a,null,o.a.createElement(ge,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.fb1611fc.chunk.js.map