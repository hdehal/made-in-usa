(this["webpackJsonpmade-in-usa"]=this["webpackJsonpmade-in-usa"]||[]).push([[0],{161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),c=a(21),i=a(16),s=a(17),u=a(19),d=a(18),m=a(12),h=a(20),p=(a(94),a(95),a(27)),b=a(72),f=function(){return r.a.createElement("div",{className:"mainContainer"})},g=a(87),E=a(39),C=a(10),v=a(73),y=a(74),k=a.n(y),O=a(32),S=(O.b.hasAppClient("miusa-gxhmx")?O.b.getAppClient("miusa-gxhmx"):O.b.initializeDefaultAppClient("miusa-gxhmx")).getServiceClient(O.a.factory,"mongodb-atlas").db("vendor").collection("vendor-item"),j=new O.c("V6LG4GfuM1tHrCA9XCHprjF2TqBzcEgZbXdr6TRPwwz3NYLzlR5Y6sGZ55vIyDmf");O.b.defaultAppClient.auth.loginWithCredential(j).then((function(e){console.log("Successfully connected to the database!")})).catch((function(e){return console.error("Login failed with error: ".concat(e))}));var w,x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).checkboxOnChange=function(e){var t=e.target.name;a.setState((function(e){var a=e.checkboxIds;return a.includes(t)?{checkboxIds:a.filter((function(e){return e!==t}))}:{checkboxIds:[].concat(Object(g.a)(a),[t]).sort()}}))},a.resetForm=function(){a.setState({id:"",company:"",url:"",loc:"",gender:"",checkboxIds:[],isCaptchaVerified:!1,isVerified:!1})},a.onChangeCompanyName=a.onChangeCompanyName.bind(Object(m.a)(a)),a.onChangeUrl=a.onChangeUrl.bind(Object(m.a)(a)),a.onChangeLoc=a.onChangeLoc.bind(Object(m.a)(a)),a.onChangeGender=a.onChangeGender.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.onDelete=a.onDelete.bind(Object(m.a)(a)),a.onChangeisVerified=a.onChangeisVerified.bind(Object(m.a)(a)),a.onloadCallback=a.onloadCallback.bind(Object(m.a)(a)),a.verifyCallback=a.verifyCallback.bind(Object(m.a)(a)),a.state={checkboxes:[{id:"Accessories"},{id:"Bottoms"},{id:"Dresses"},{id:"Formal"},{id:"Shoes"},{id:"Swim"},{id:"Tops"},{id:"Undergarments"}],checkboxIds:[],company:"",url:"",loc:"",gender:"",isCaptchaVerified:!1,isVerified:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onChangeCompanyName",value:function(e){this.setState({company:e.target.value})}},{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeLoc",value:function(e){this.setState({loc:e.target.value})}},{key:"onChangeGender",value:function(e){this.setState({gender:e.target.value})}},{key:"onChangeisVerified",value:function(e){this.setState({isVerified:e.target.checked})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={company:this.state.company,url:this.state.url,loc:this.state.loc,gender:this.state.gender,tags:this.state.checkboxIds,isVerified:this.state.isVerified};S.insertOne(t).then((function(e){return console.log("Successfully inserted item with _id: ".concat(e.insertedId))})).catch((function(e){return console.error("Failed to insert item: ".concat(e))})),this.resetForm()}},{key:"onDelete",value:function(e){console.log(this.props.selected);var t={_id:new v.a(this.props.selected)};S.deleteOne(t).then((function(e){return console.log("Deleted ".concat(e.deletedCount," item(s)."))})).catch((function(e){return console.error("Delete failed with error: ".concat(e))}))}},{key:"onloadCallback",value:function(){console.log("Captcha loaded!")}},{key:"verifyCallback",value:function(e){e&&this.setState({isCaptchaVerified:!0})}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.checkboxes,l=a.checkboxIds,o=function(){e.reset()};return r.a.createElement("div",{className:"mainContainer"},r.a.createElement("h4",null,"Add New Company"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Company Name:"),r.a.createElement(C.a.Control,{type:"text",size:"sm",value:this.state.company,onChange:this.onChangeCompanyName})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"URL:"),r.a.createElement(C.a.Control,{type:"text",size:"sm",value:this.state.url,onChange:this.onChangeUrl})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Location:"),r.a.createElement(C.a.Control,{type:"text",size:"sm",value:this.state.loc,onChange:this.onChangeLoc})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Gender:"),r.a.createElement("select",{className:"form-control dropdown-toggle btn btn-secondary",onChange:this.onChangeGender,multiple:!1},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"Everyone"},"Everyone"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"))),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Category/Tags:"),r.a.createElement("div",{className:"mb-3"},n.map((function(e){return r.a.createElement(C.a.Check,{inline:!0,key:e.id,label:e.id,id:e.id,type:"checkbox",checked:l.includes(e.id),name:e.id,onChange:t.checkboxOnChange})})))),r.a.createElement(C.a.Check,{type:"hidden",disabled:!0}),r.a.createElement(k.a,{sitekey:"6LdaT90UAAAAAPhUh2D2odXQQB47ilnXw2mhCwAj",render:"explicit",onloadCallback:this.onloadCallback,verifyCallback:this.verifyCallback,ref:function(t){return e=t}}),r.a.createElement(C.a.Group,null,r.a.createElement(E.a,{id:"addFormSubmit",type:"submit",value:"Submit",disabled:!this.state.isCaptchaVerified,onClick:o},"Submit"),r.a.createElement(E.a,{className:"btn",variant:"danger",type:"reset",onClick:function(){t.resetForm(),o()}},"Reset"))))}}]),t}(n.Component),A=a(37),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onClickAlert=a.onClickAlert.bind(Object(m.a)(a)),a.state={setShowAlert:!0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onClickAlert",value:function(e){this.setState({setShowAlert:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"mainContainer"},r.a.createElement(A.a,{show:this.state.setShowAlert,variant:"success",onClick:this.onClickAlert,dismissible:!0},r.a.createElement(A.a.Heading,null,"Missing a Vendor?"),r.a.createElement("p",null,'Please feel free to contribute to the list by adding a "Made in USA" company. Your submission(s) will be put into a queue and approved by a moderator shortly. Thanks!')))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selected:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(x,{selected:this.props.selected}))}}]),t}(n.Component),L=function(){return r.a.createElement("div",{className:"mainContainer"},r.a.createElement(A.a,{variant:"primary"},r.a.createElement(A.a.Heading,null,"About the List"),r.a.createElement("p",null,'Over ten years ago, I took a challenge to slowly convert my wardrobe to entirely "Made in USA" clothing. The goals were numerous \u2014 from having fewer items of higher-quality clothing that would last longer, to voting with my wallet and making a political statement for fair wages, supply chain transparency, and against adverse working conditions abroad. Not all companies listed have their entire product portfolio American-made \u2014  the only requirement is that some product(s) should be manufactured in the USA \u2014 regardless of domestic or foreign materials. Please feel free to ',r.a.createElement(c.c,{to:"".concat("/made-in-usa","/add")},"contribute"),"!"),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"This is a personal coding project built as a Single Page Application (SPA) using ",r.a.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"React")," with a ",r.a.createElement("a",{href:"https://www.mongodb.com/cloud/atlas",target:"_blank",rel:"noopener noreferrer"},"cloud MongoDB service"),". Open source and proudly hosted on ",r.a.createElement("a",{href:"https://github.com/hdehal/made-in-usa",target:"_blank",rel:"noopener noreferrer"},"GitHub"),".")))},G=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"404 Error: Page does not exist"))},D=a(165),U=a(164),V=function(){return r.a.createElement(D.a,{bg:"light",expand:"lg"},r.a.createElement(c.b,{to:"/"},r.a.createElement(D.a.Brand,null,r.a.createElement("span",{role:"img","aria-label":"US flag"},"\ud83c\uddfa\ud83c\uddf8")," Made in USA List")),r.a.createElement(D.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(U.a,{className:"mr-auto"},r.a.createElement(c.c,{to:"/add"},"Add Company"))),r.a.createElement(D.a.Collapse,{className:"justify-content-end"},r.a.createElement(c.c,{to:"/about"},r.a.createElement(E.a,{size:"sm",variant:"secondary"},"About"))))},I=a(57),M=a.n(I),T=a(84),z=a(88),P=a(85),_=a.n(P),B=a(47),H=a.n(B),R=a(86),q=function(e,t){return e?"asc"===e?r.a.createElement("span",{className:"react-bootstrap-table-sort-order"},r.a.createElement("span",{className:"caret"})):"desc"===e?r.a.createElement("span",{className:"react-bootstrap-table-sort-order dropup"},r.a.createElement("span",{className:"caret"})):null:r.a.createElement("span",{className:"order"},r.a.createElement("span",{className:"dropdown"},r.a.createElement("span",{className:"caret"})),r.a.createElement("span",{className:"dropup"},r.a.createElement("span",{className:"caret"})))},X=[{dataField:"id",text:"ID",hidden:!0},{dataField:"company",text:"Company",sort:!0,sortCaret:q},{dataField:"url",text:"URL",sort:!0,sortCaret:q,formatter:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))}},{dataField:"loc",text:"Location",sort:!0,sortCaret:q,headerStyle:function(e,t){return{width:"175px"}}},{dataField:"gender",text:"Gender",sort:!0,sortCaret:q,headerStyle:function(e,t){return{width:"100px"}}},{dataField:"tags",text:"Tags",sort:!0,sortCaret:q,formatter:function(e){return e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{pill:!0,variant:"primary"},e))}))},filter:Object(B.textFilter)({className:"form-control-sm",placeholder:"Search by tag",getFilter:function(e){w=e}})}];document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&w("")};var Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getData",value:function(){var e=this;S.find({isVerified:!0}).toArray().then((function(e){return e.map((function(e){return Object(z.a)({},e,{id:e._id.toString()})}))})).then((function(t){return e.setState({data:t})})).catch((function(e){console.warn("Error:",e)}))}},{key:"componentDidMount",value:function(){var e=Object(T.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{keyField:"id",data:this.state.data,columns:X,filter:H()(),defaultSorted:[{dataField:"company",order:"asc"}],striped:!0,hover:!0,condensed:!0,bootstrap4:!0}))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selected:[]},a.handleOnSelect=a.handleOnSelect.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleOnSelect",value:function(e,t){t?(console.log(e),this.setState({selected:e.id})):(console.log(e),this.setState({selected:[]}))}},{key:"render",value:function(){var e=this;return r.a.createElement(c.a,{basename:"/made-in-usa"},r.a.createElement(b.Helmet,null,r.a.createElement("title",null,"Made in USA List")),r.a.createElement(V,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"".concat("/made-in-usa","/"),component:f,exact:!0}),r.a.createElement(p.a,{path:"".concat("/made-in-usa","/add"),component:function(){return r.a.createElement(F,{selected:e.state.selected})}}),r.a.createElement(p.a,{path:"".concat("/made-in-usa","/about"),component:L}),r.a.createElement(p.a,{component:G})),r.a.createElement(Y,{handleOnSelectProp:this.handleOnSelect}))}}]),t}(n.Component);o.a.render(r.a.createElement(c.a,null,r.a.createElement(J,null)),document.getElementById("root"))},89:function(e,t,a){e.exports=a(161)},95:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.c1494dd6.chunk.js.map